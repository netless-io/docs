---
id: js-changelog
title: 版本历史
---

## 2.10.2 - 2020-10-12

### 修复

* 动态 PPT 母板背景图拉伸变为平铺的问题

## 2.10.1 - 2020-10-09

### 修复

* 更新了依赖包版本

## 2.10.0 - 2020-09-30

### 新增

* invisible plugin
* 为 ``room``、``player`` 新增 ``enableWriteNow`` 字段，以表明当前是否可写
* 为 ``room``、``player`` 的 ``state`` 新增 ``cameraState`` 字段，以表示当前镜头相关的信息
* 新增回调函数 ``onEnableWriteNowChanged`` 以监听 ``enableWriteNow`` 的变化

### 更新

* 在 ``onRoomStateChanged``、``onPlayerStateChanged`` 中新增 ``cameraState`` 的变化回调

### 修复

* ``player`` 在 ``buffering`` 状态下调用 ``play`` 方法，有时无法播放，且伴随状态会被锁死

## 2.9.17 - 2020-09-14

### 修复

* 在 Safari 上拖动被选中的组件，白板有时会间歇性闪烁

## 2.9.16 - 2020-09-10

### 新增

* 回放添加字段 ``isPlayable``

### 修复

* 修复了 2.9.15 版本在加入房间时设置 ``isWritable: false``，之后，无法调用 ``room.setWritable(true)``

## 2.9.15 - 2020-09-03

### 新增

* 自定义快捷键配置支持切换教具

### 修复

* 使用 Reader 角色的 ``roomToken`` 无法加入房间
* 因网络问题断开的角色，在离开房间之后，光标可能持续一段时间

## 2.9.14 - 2020-08-12

### 更新

* 动态 PPT 内音频和视频支持 RTC 混音

### 修复

* 部分主体色丢失导致的无法渲染

## 2.9.13 - 2020-08-07

### 新增

* 新增悬浮条
* 自定义文字字体

### 更新

* 动态 PPT 支持视频同步功能

### 修复

* 选择工具选中物品后，按下 Shift 键后行为异常
* 在调整组建大小后，该行为无法被撤回
* 删除选中 Plugin 之后，选择边框依然留在场景中

## 2.9.12 - 2020-07-16

### 修复

* 引入白板后，其他 ``textarea`` 和 ``input`` 的部分按键被拦截

## 2.9.11 - 2020-07-15

### 新增

* 自动调整尺寸，无需调用 ``refreshViewSize`` 方法
* ``canUndoSteps``、``canRedoSteps`` 变化可以被监听

### 修复

* 文字光标无法突破屏幕边缘
* 缩小屏幕时，有时会报错

## 2.9.10 - 2020-07-07

### 修复

* 回放时频繁拖动进度条，某些笔迹会显示在不该出现的位置

## 2.9.9 - 2020-07-06

### 更新

* ``room.scenePreview`` 方法支持 PPT preview

### 修复

* native 端动态 PPT 翻页后媒体仍然在播放的 bug
* 切换教具时，有时光标显示有延迟
* 有的房间录像播放结果不符合预期

## 2.9.8 - 2020-07-01

### 修复

* 动态 PPT 字体重复下载导致的内存占用过多问题

## 2.9.7 - 2020-06-30

### 修复

* 动态 PPT 当文本之前缩进设置为 0 时缩进显示不正确

## 2.9.6 - 2020-06-29

### 新增

* 场景截图返回图片 URL
* Global State 支持删除字段
* 新的 PPT 转换 API（支持 PPT preview）

### 更新

* css 文件包含在 js 文件中，不再需要引入 css 文件
* 插件回放时能能得知播放倍率和播放进度

## 2.9.5 - 2020-06-24

### 更新

* 动态 PPT 将页面异常局限在该页之内

### 修复

* 动态 PPT 返回前一页文字有时会消失
* 动态 PPT 部分元素会被视频遮挡
* 动态 PPT 部分文本框渲染时崩溃

## 2.9.3 - 2020-06-18

### 新增

* 激光笔
* 热键配置表
* 抓手工具

### 更新

* 撤回、重做展示步骤
* 在加入房间时加入 `disalbeCameraTransform`
* 教具名改为枚举类型

## 2.9.2 - 2020-06-12

### 新增

* `room.state` 和 `player.state` 可以配置成 MobX 的 observable 对象。
* `room.callbacks` 和 `player.callbacks` 可以注册新监听器。

### 更新

* `onScheduleTimeChanged` 回调被 `onProgressTimeChanged` 代替。

### 修复

* 部分高版本 react 下使用 TypeScript 编译无法通过。

## 2.9.1 - 2020-06-01

### 修复

* selector 选择多个物品后，选择框与 highlight 框位置无法重合。
* 有时 canvas 显示的尺寸与实际不符
* 特定时段的网络不可用可能会导致网络恢复后，服务依然不可用。
* 在 Safari 上橡皮快速拖动，无法显示擦除范围。

## 2.9.0 - 2020-05-23

{% hint style="info" %}
该版本有 API 变动，若从低版本升级到此版本及以上版本，建议参考[《2.9.0 迁移指南》](https://developer.netless.link/javascript/version/migrate-to-2.9.0)。
{% endhint %}

### 新增

* 直线工具
* 箭头工具
* 复制、粘贴
* 复刻

### 更新

* 默认禁止用铅笔画点
* 快速拖动橡皮时，橡皮会变成范围删除

### 修复

* 某些时候，以只读模式加入房间后，进行设备操作会在 Console 报错

## 2.8.0 - 2020-05-12

{% hint style="info" %}
该版本有 API 变动，若从低版本升级到此版本及以上版本，建议参考[《2.8.0 迁移指南》](https://developer.netless.link/javascript/version/migrate-to-2.8.0)。
{% endhint %}

### 更新

* 不兼容改动：该版本初始化时，必须增加一个 APP identitier 参数，通过 console 获取对应账号的 App Identifier。改动见[《2.8.0 迁移指南》](https://developer.netless.link/javascript/version/migrate-to-2.8.0)。

### 修复

* canvas 模式下，两个用户同时画线，其中一个人的笔迹无法显示完整的缺陷。
* 部分情况下，笔迹无法用橡皮擦除的缺陷。
* 第二个主播进入房间时，设置了 isWritable=false 的用户无法跟随新主播的缺陷。

## 2.7.9 - 2020-05-14

### 新增

* PPT 自定义协议。

## 2.7.8 - 2020-05-07

### 修复

* 动态 PPT 音视频无法播放问题。

## 2.7.7 - 2020-05-06

### 新增

* 动态 PPT 中的视频，播放之前以首帧作为封面。

## 2.7.6 - 2020-04-28

### 修复

* 动态 PPT 中途加入，视频无法播放的缺陷。

## 2.7.5 - 2020-04-16

### 修复

* 动态 PPT 媒体进度条位置不对的缺陷。

## 2.7.4 - 2020-04-16

### 修复

* 进度条会被其他元素覆盖的缺陷。
* 视频不能占满元素的缺陷。
* 用户在音频结束后无法重新播放的缺陷。

## 2.7.3 - 2020-04-08

### 更新

* 优化动态 ppt 音视频进度条展示。

## 2.7.2 - 2020-03-27

### 修复

* 动态 ppt 音视频部分用户不能正确收到播放信息。

## 2.7.1 - 2020-03-21

## 更新

* 优化了建连速度。

### 修复

* canvas 模式下若干显示错误。
* 动态 PPT 修复在 iOS 下换行不正确缺陷。

## 2.7.0 - 2020-03-17

### 更新

* 优化了 canvas 模式下的书写性能。

### 修复

* canvas 模式下，Safari 浏览器无法渲染图片的问题。
* 动态 PPT 用动画音频播放时部分用户听不到声音的问题。
* 动态 PPT 转换音频是空字符串时会转换失败的问题。
* 动态 PPT 播放音频时闪烁问题。
* 刚进入房间时，光标依然是默认光标的问题。

## 2.6.4 - 2020-03-02

### 修复

* 文字没有指定字号报错问题。
* 侧边栏播放音频问题。
* 媒体切换页面时重新播放问题。
* 在组合内的媒体无法播放问题。

## 2.6.3 - 2020-02-23

### 新增

* 初始化参数 `rejectWhenReadonlyErrorLevel`。

### 修复

* 设置 `disableBezier: true` 之后无法以只读模式进入房间的问题。

## 2.6.2 - 2020-02-22

### 修复

* 房间有主播时，改变白板尺寸，无法跟踪视觉矩形的缺陷。

## 2.6.1 - 2020-02-21

### 新增

* 光标适配器 onMovedCursor 回调方法。

### 修复

* 在自定义事件回调中进行修改房间状态的操作会报错。
* 在只读模式下视角的若干异常问题。

## 2.6.0 - 2020-02-18

### 新增

* canvas 渲染模式（beta 版，默认不开启）。
* 实时房间有了只读模式。

### 修复

* 若干缺陷。

## 2.5.10 - 2020-02-13

### 新增

* 动态 PPT 视频播放 / 停止事件的回调。

## 2.5.9 - 2020-02-10

### 更新

* 优化动态 PPT 对于低版本 iOS 的兼容性。

### 修复

* 若干缺陷。

## 2.5.8 - 2020-02-03

### 修复

* 客户端突发的网络质量变差时，产生大量无效请求的缺陷。
* `*.d.ts` 文件不可用的缺陷。
* 关闭 WebSocket 可能在控制台报错的缺陷。

## 2.5.7 - 2020-01-22

### 更新

* 当客户端因网络问题，进入异常后，会自动重连以恢复正常状态。

## 2.5.6 - 2020-01-18

### 修复

* 在 onLoadFirstFrame 被回调之前，Player 的某些方法无法被调用，某些成员无法被修改。

## 2.5.5 - 2020-01-17

### 新增

* DNS 预热功能
* 播放器倍速播放的功能

### 修复

* `urlInterrupter` 不起作用的问题。
* 抓手工具的一些异常行为。

## 2.5.4 - 2020-01-11

### 新增

* 获取房间所有场景的 API。
* 判断特定地址是场景或场景组的 API。

### 修复

* 在打字超过屏幕边界后，视角会出现问题。

## 2.3.19 - 2019-12-26

### 修复

* 部分文字渲染时找不到内容的问题。

## 2.3.18 - 2019-12-20

### 新增

* 动态 PPT 点击动画。
* 等比例缩放ppt至满屏API \(scalePptToFit\)。

## 2.3.17 - 2019-12-07

### 新增

* 动态 PPT 支持超链接跳转。

## 2.3.16 - 2019-12-03

### 修复

* 若干缺陷。

## 2.3.15 - 2019-11-18

### 新增

* 动态 PPT 支持点击动画。

## 2.3.12 - 2019-11-02

### 更新

* 优化了动态 PPT 的加载过程，优化的渲染性能。
* 可以禁止橡皮擦除图片。

## 2.3.11 - 2019-10-28

### 更新

* 优化了场景预览 API，支持不传入宽高的情况。

### 修复

* 回放时首帧存在快进的问题。
* 文字教具在不同端使用不同字体时，造成的文字截断问题。
* Surface 设备下，图形编辑点错位问题。

## 2.3.9 - 2019-10-21

### 修复

* 动态 PPT 部分文字排版的缺陷。

## 2.3.6 - 2019-09-30

### 更新

* 动态 PPT 优化渲染引擎，提升渲染还原度。

## 2.3.5 - 2019-09-24

### 新增

* 新增了抓手工具。

### 更新

* 优化了动态 PPT 的性能。
* 优化了性能。

### 修复

* 动态 PPT 的样式问题。

## 2.3.4 - 2019-09-20

### 更新

* 优化了动态 PPT 文字排版。
* 优化了鼠标事件处理逻辑。

## 2.3.3 - 2019-09-16

### 修复

* 动态 PPT 支持文字上下标，修改部分图片无法渲染问题。
* 修改窗口大小时，视角转化存在问题。

## 2.3.1 - 2019-09-09

### 修复

* 动态 PPT 部分音频无法播放的缺陷。

## 2.3.0 - 2019-09-04

### 新增

* 支持白板添加边界。

### 更新

* 优化了弱网下的体验。

### 修复

* 播放器的若干缺陷。

## 2.2.14 - 2019-08-29

### 新增

* 动态 PPT 提供预加载功能。

### 更新

* 优化笔迹效果。

### 修复

* 截图在特定设备上截不全的缺陷。
* 矩形工具的若干缺陷。

## 2.2.13 - 2019-08-24

### 更新

* 优化了弱网下的体验。
* 支持禁止笔迹贝塞尔曲线。

### 修复

* 动态 PPT 的若干缺陷。

## 2.2.12 - 2019-08-15

### 修复

* 动态 PPT 的若干缺陷。

## 2.2.11 - 2019-08-06

### 修复

* 房间有主播时，新进房间的用户的白板看不到任何东西。
* 白板排版的缺陷。
* 兼容 vue start-kit 下白板错位问题。

## 2.2.10 - 2019-08-02

### 更新

* 优化了重连的逻辑。

## 2.2.9 - 2019-07-30

### 修复

* 多人同时进入房间时，一定几率无法加入房间的缺陷。

## 2.2.8 - 2019-07-25

### 修复

* Windows 上断线重连的缺陷。

## 2.2.7 - 2019-07-23

### 更新

* 优化了移动端橡皮工具的体验。

### 修复

* 无法断线重连的缺陷。
* 动态 PPT 排版的若干缺陷。

## 2.2.6 - 2019-07-17

### 修复

* 动态 PPT 排版渲染上的一些缺陷。
* 加入房间时有时找不到教具的缺陷。

## 2.2.5 - 2019-07-12

### 修复

* 初始化视角可能失败的缺陷。
* 动态 PPT 的一些文字排版的缺陷。

## 2.2.4 - 2019-07-06

### 新增

* 动态 PPT 支持多媒体播放。
* 动态 PPT 支持更多的动画。

### 修复

* 动态 PPT 的一些图形渲染的缺陷。

## 2.2.2 - 2019-07-01

### 新增

* 支持选择调整视角的动画模式。
* 支持渲染场景快照。

## 2.2.1 - 2019-06-29

### 新增

* 支持主动调整视角。
* 支持为动态 PPT 自定义字体文件。
* 支持禁止镜头、禁止设备输入。

## 2.0.3 - 2019-06-24

### 修复

* 在 beta 版录制的回放时 PPT 的尺寸错误。
* Preview 的展示区域不会随着屏幕 scale 变化而变化。

## 2.0.0 - 2019-06-23

* 初次发布